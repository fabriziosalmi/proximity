[pytest]
# Disable pytest-flask plugin as we use FastAPI, not Flask
addopts = -p no:flask

# Set asyncio fixture loop scope to function to avoid deprecation warning
asyncio_default_fixture_loop_scope = function

# Suppress warnings from external libraries that we cannot fix
filterwarnings =
    ignore::DeprecationWarning:sqlalchemy.*
    ignore::DeprecationWarning:jose.*
    ignore::DeprecationWarning:httpx.*
    ignore:.*datetime.datetime.utcnow.*:DeprecationWarning
    ignore:.*Use 'content=<...>' to upload.*:DeprecationWarning
    ignore::urllib3.exceptions.InsecureRequestWarning
    ignore:.*coroutine.*was never awaited.*:RuntimeWarning
    ignore:.*Enable tracemalloc.*:RuntimeWarning
    ignore::ResourceWarning
