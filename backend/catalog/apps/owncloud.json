{
  "id": "owncloud",
  "name": "ownCloud",
  "version": "1.0.0",
  "description": "Secure file sharing and collaboration platform with desktop and mobile sync clients",
  "category": "Storage",
  "icon": "https://cdn.simpleicons.org/owncloud/1D2D44",
  "tags": ["cloud", "file-sync", "collaboration", "sharing", "storage"],
  "min_memory": 512,
  "min_cpu": 1,
  "min_disk": 10,
  "docker_compose": {
    "version": "3.8",
    "services": {
      "owncloud": {
        "image": "owncloud/server:latest",
        "container_name": "owncloud",
        "restart": "unless-stopped",
        "ports": [
          "8080:8080"
        ],
        "depends_on": [
          "owncloud-mariadb",
          "owncloud-redis"
        ],
        "environment": {
          "OWNCLOUD_DOMAIN": "localhost:8080",
          "OWNCLOUD_TRUSTED_DOMAINS": "localhost",
          "OWNCLOUD_DB_TYPE": "mysql",
          "OWNCLOUD_DB_NAME": "owncloud",
          "OWNCLOUD_DB_USERNAME": "owncloud",
          "OWNCLOUD_DB_PASSWORD": "owncloud_password",
          "OWNCLOUD_DB_HOST": "owncloud-mariadb",
          "OWNCLOUD_ADMIN_USERNAME": "admin",
          "OWNCLOUD_ADMIN_PASSWORD": "admin",
          "OWNCLOUD_REDIS_ENABLED": "true",
          "OWNCLOUD_REDIS_HOST": "owncloud-redis"
        },
        "volumes": [
          "owncloud_files:/mnt/data"
        ]
      },
      "owncloud-mariadb": {
        "image": "mariadb:10.11",
        "container_name": "owncloud-mariadb",
        "restart": "unless-stopped",
        "environment": {
          "MYSQL_ROOT_PASSWORD": "root_password",
          "MYSQL_USER": "owncloud",
          "MYSQL_PASSWORD": "owncloud_password",
          "MYSQL_DATABASE": "owncloud"
        },
        "command": ["--max-allowed-packet=128M", "--innodb-log-file-size=64M"],
        "volumes": [
          "owncloud_mysql:/var/lib/mysql"
        ]
      },
      "owncloud-redis": {
        "image": "redis:7",
        "container_name": "owncloud-redis",
        "restart": "unless-stopped",
        "command": ["--databases", "1"],
        "volumes": [
          "owncloud_redis:/data"
        ]
      }
    },
    "volumes": {
      "owncloud_files": {},
      "owncloud_mysql": {},
      "owncloud_redis": {}
    }
  }
}
